\subsubsection{Implementation of the License Verification Library}\label{section:license-google-implementation}
%START TEXT INPUT
This is my real text! Rest might be copied or not be checked!
%START TEXT INPUT



%
run time, set of libraries provided by google
app can query Google Play licensing Server to determine the license status of user
returns information on whether your user is authorized to use the app based on stored sales revords
real time over network
\cite{developersLicensingBlog}
%

%
what you need

google publisher account on google play
google play developer console at Services \& API, app specific public key for licensing, implement it into the application
copy it later into the app

\cite{developersLicensingAdding}
%

%
- Adding the licensing permission your application's manifest
\lstinputlisting[
  float=h,
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  frame=single,
  numbers=left,
  language=Java,
  linerange={7-9},
  firstnumber=7,
  caption={Include permission to check the license in AndroidManifest.xml},
  label={codeSnippet:lvlPermission}
]{data/permission.xml}

- Implementing a Policy, provided by LVL or own
- Implementing an Obfuscator, if Policy caches any license response data. \ref{codeSnippet:lvlSetup} line 59, cannot be reused or manipulated by a root user
- adding code to check license in application main activity\_main
\cite{developersLicensingAdding}
%
\url{https://developer.android.com/google/play/licensing/setting-up.html}

\url{https://developer.android.com/google/play/licensing/adding-licensing.html}

\lstinputlisting[
  float=h,
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  frame=single,
  numbers=left,
  language=Java,
  linerange={57-64},
  firstnumber=57,
  caption={Setting up the LVL license check call},
  label={codeSnippet:lvlSetup}
]{data/lvl.java}

\lstinputlisting[
  float=h,
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  frame=single,
  numbers=left,
  language=Java,
  linerange={134-150},
  firstnumber=57,
  caption={LVL license check callback},
  label={codeSnippet:lvlCallback}
]{data/lvl.java}
