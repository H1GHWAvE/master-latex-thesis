\subsubsection{Implementation of Kiwi}\label{section:license-amazon-implementation}
%START TEXT INPUT
This is my real text! Rest might be copied or not be checked!
%START TEXT INPUT

%
kind of wrapper
no sample implementation to add by developer but inject own logic in each app (same for every app)

example shows implementation recovered by reengineering explained in 2.4
amazon drm contains numerous namespaces and calsses, most have been mangled by obfuscation tools, see proguard
startup in main activity myActivity
drm logic not interweaved with app logic, could only be done by a human developer anyways

\cite{munteanLicense}
%


\lstinputlisting[
  float=h,
  basicstyle=\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  frame=single,
  numbers=left,
  language=Java,
  linerange={77-80},
  firstnumber=77,
  caption={Amazon's onCreate() injection to call Kiwi license verification as well},
  label={codeSnippet:amazonCreate}
]{data/amazon.java}

rename onCreate to onCreateMainActivity
start in new onCreate, also start Kiwi.onCreate((Activity) this, true); which handles the
