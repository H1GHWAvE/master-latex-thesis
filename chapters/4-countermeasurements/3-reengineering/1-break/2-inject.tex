\subsubsection{Inject bad OPcode or Junkbytes} \label{subsubsection:counter-reengineering-break-inject}
%START TEXT INPUT
This is my real text! Rest might be copied or not be checked!
%START TEXT INPUT


%
viele schlagen vor:
junkbyte injection
well known technique in x86, confuse disassemblers in a way that they produce disassembly errors and disallow correct interpretations, inserting junkbytes in selected locations within the bytecode where a disassembler expects an instruction, junkbyte must take the disassembling strategy into account in order to reach a maximum of obfuscated code, break the two disassebly stragien from 2.4.0, condition for the location is that the junkbyte must not be executed, because an execution would result in an undesired behavior of the application,  junkbyte must be located in a basic block which will never be executed
\cite{schulzLabCourse}
%


%EVALUATION
funktioniert nicht mehr
This is not expected to work. The bytecode verifier explicitly checks all branches for validity. The question of whether or not an address is an instruction or data is determined by a linear walk through the method. Data chunks are essentially very large instructions, so they get stepped over.

You can make this work if you modify the .odex output, and set the "pre-verified" flag on the class so the verifier doesn't examine it again -- but you can't distribute an APK that way.

This "obfuscation" technique worked due to an issue in dalvik. This issue was fixed somewhere around the 4.3 timeframe, although I'm not sure the first released version that contained the fix. And lollipop uses ART, which never had this issue.

Here is the change that fixed this issue: \url{https://android-review.googlesource.com/#/c/57985/}
\url{http://stackoverflow.com/questions/33110538/junk-byte-injection-in-android}
%
ERWÃ„HNEN WO IM PROZESS ANGEWENDET\newline

JUNKBYTES\newline
use bad opcode in deadcode \newline
code runs but breaks tools\newline
put it into a class you do not use --see- care proguard, it will not use it since it is not included\newline
--see- fixed...\newline
\url{https://youtu.be/Rv8DfXNYnOI?t=1163}\newline
reference not inited strings\newline
\url{https://youtu.be/Rv8DfXNYnOI?t=1459}
